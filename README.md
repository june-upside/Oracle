# Price Oracle Dashboard

국내 거래소(업비트, 빗썸, 코인원)의 가격 데이터를 수집하고, 스프레드/거래량/호가깊이 기반 가중치를 적용하여 최종 가격을 산출하는 오라클 대시보드입니다.

## 기능

- **실시간 가격 수집**: 업비트(WebSocket), 빗썸, 코인원의 실시간 가격 데이터 수집
- **가중치 기반 집계**: 스프레드, 거래량, 호가 깊이를 고려한 가중치 계산
- **파라미터 조작**: 거래소별 가중치 및 집계 방식 조정 가능
- **가격 시각화**: 거래소별 가격과 집계 가격을 실시간 그래프로 표시
- **다중 코인 지원**: BTC, ETH, SOL, XRP 지원

## 설치

1. Python 3.8 이상이 필요합니다.

2. 의존성 설치:
```bash
pip install -r requirements.txt
```

## 실행

```bash
python app.py
```

서버가 시작되면 브라우저에서 `http://localhost:8080`으로 접속하세요.

## 사용 방법

1. **코인 선택**: 상단의 드롭다운에서 원하는 코인을 선택합니다.

2. **가격 확인**: 
   - 상단에 집계된 최종 가격이 표시됩니다.
   - 중앙에 각 거래소의 가격, 스프레드, 거래량, 호가 깊이가 표시됩니다.
   - 하단에 실시간 가격 그래프가 표시됩니다.

3. **파라미터 조작**:
   - **집계 방식**: 평균값 또는 중앙값 선택
   - **거래소별 가중치**: 각 거래소의 기본 가중치 조정 (슬라이더 또는 숫자 입력)
   - **스프레드 가중치 계수**: 스프레드 계산에 적용되는 계수 조정
   - **거래량 가중치 계수**: 거래량 계산에 적용되는 계수 조정
   - **호가 깊이 가중치 계수**: 호가 깊이 계산에 적용되는 계수 조정

4. **설정 저장**: 파라미터 변경 시 자동으로 localStorage에 저장되며, 페이지 새로고침 시 복원됩니다.

## 기술 스택

- **백엔드**: Python Flask
- **프론트엔드**: HTML, CSS, Vanilla JavaScript
- **차트**: Chart.js
- **API**: 업비트 WebSocket, 빗썸 REST API, 코인원 REST API

## 프로젝트 구조

```
Oracle/
├── app.py                 # Flask 메인 애플리케이션
├── config.py              # 설정 파일
├── requirements.txt       # Python 의존성
├── exchanges/             # 거래소 API 클라이언트
│   ├── upbit.py
│   ├── bithumb.py
│   └── coinone.py
├── oracle/                # 가격 집계 로직
│   ├── aggregator.py
│   └── calculator.py
├── static/                 # 정적 파일
│   ├── css/
│   └── js/
└── templates/             # HTML 템플릿
    └── index.html
```

## 가중치 계산 방식

1. **스프레드 가중치**: `1 / (1 + spread_percentage)` - 스프레드가 낮을수록 높은 가중치
2. **거래량 정규화**: 모든 거래소의 거래량을 0-1 범위로 정규화
3. **호가 깊이 정규화**: 모든 거래소의 호가 깊이를 0-1 범위로 정규화
4. **최종 가중치**: `(spread_weight * volume_weight * depth_weight) * user_weight_multiplier`

## 라이선스

이 프로젝트는 개인 사용 목적으로 개발되었습니다.

