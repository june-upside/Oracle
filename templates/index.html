<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koracle</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
    <div class="dark-mode-toggle-wrapper">
        <label class="dark-mode-toggle" for="dark-mode-toggle-input" aria-label="Îã§ÌÅ¨Î™®Îìú ÌÜ†Í∏Ä">
            <span class="dark-mode-label">Dark Mode</span>
            <input type="checkbox" id="dark-mode-toggle-input" class="dark-mode-toggle-input">
            <span class="dark-mode-toggle-slider"></span>
        </label>
    </div>
    <div class="container">
        <header>
            <h1>üá∞üá∑ Koracle</h1>
            <p class="subtitle">Mass Liquidation Prevention System</p>
        </header>

        <div class="dashboard">
            <!-- Í∞ÄÍ≤© Ï∞®Ìä∏ -->
            <section class="card chart-card">
                <h2>Í∞ÄÍ≤© Ï∂îÏù¥</h2>
                <canvas id="priceChart"></canvas>
            </section>

            <!-- Ïò§ÎùºÌÅ¥ Ï§ëÏïôÍ∞í Í∞ÄÍ≤© -->
            <section class="card main-price">
                <div class="main-price-header">
                    <h2>ETH/KRW Ï§ëÏïôÍ∞í Í∞ÄÍ≤©</h2>
                    <div class="price-meta">
                        <span id="calculation-method">-</span>
                        <span id="price-timestamp">-</span>
                    </div>
                </div>
                <div class="price-display" id="median-price">
                    <span class="price-value">-</span>
                    <span class="price-unit">KRW</span>
                </div>
                <div class="price-comparison" id="price-comparison">
                    <span id="upbit-price-compare">-</span>
                    <span id="price-diff">-</span>
                    <span id="price-diff-percent">-</span>
                </div>
            </section>

            <!-- USDT/KRW Ï†ïÎ≥¥ Î∞è Ï°∞Ïûë -->
            <div class="usdt-section">
                <!-- USDT/KRW Ï†ïÎ≥¥ -->
                <section class="card usdt-info">
                    <h2>USDT/KRW Ï†ïÎ≥¥</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>ÏóÖÎπÑÌä∏ Í∞ÄÍ≤©</label>
                            <span id="upbit-usdt-krw">-</span>
                        </div>
                        <div class="info-item">
                            <label>TWAP (5Î∂Ñ)</label>
                            <span id="twap-price">-</span>
                        </div>
                        <div class="info-item">
                            <label>Î≥ÄÎèôÏÑ± ÏÉÅÌÉú</label>
                            <span id="volatility-status" class="status-badge">-</span>
                        </div>
                        <div class="info-item">
                            <label>ÏÇ¨Ïö© Ï§ëÏù∏ Í∞ÄÍ≤©</label>
                            <span id="used-usdt-krw">-</span>
                        </div>
                        <div class="info-item" id="inverse-usdt-krw-container" style="display: none;">
                            <label>Ïó≠ÏÇ∞Îêú USDT/KRW</label>
                            <span id="inverse-usdt-krw" style="color: #dc3545; font-weight: bold;">-</span>
                        </div>
                        <div class="info-item" id="original-usdt-krw-container" style="display: none;">
                            <label>ÏõêÎ≥∏ USDT/KRW</label>
                            <span id="original-usdt-krw" style="color: #ffc107;">-</span>
                        </div>
                    </div>
                </section>

                <!-- USDT/KRW Í∞ÄÍ≤© Ï°∞Ïûë Í≤åÏù¥ÏßÄ -->
                <section class="card usdt-control">
                    <h2>USDT/KRW Í∞ÄÍ≤© Ï°∞Ïûë (ÌÖåÏä§Ìä∏Ïö©)</h2>
                    <div class="gauge-container">
                        <div class="gauge-wrapper">
                            <input 
                                type="range" 
                                id="usdt-krw-gauge" 
                                class="gauge"
                                min="1000" 
                                max="6000" 
                                step="1"
                                value="1300"
                            >
                            <div class="gauge-labels">
                                <span>1000</span>
                                <span>3500</span>
                                <span>6000</span>
                            </div>
                        </div>
                        <div class="gauge-value">
                            <label>ÌòÑÏû¨ Í∞ÄÍ≤©:</label>
                            <span id="gauge-value-display">1300</span>
                            <span class="unit">KRW</span>
                        </div>
                        <div class="gauge-controls">
                            <button id="reset-gauge" class="btn btn-secondary">Î¶¨ÏÖã</button>
                            <button id="apply-gauge" class="btn btn-primary">Ï†ÅÏö©</button>
                        </div>
                        <div class="gauge-status" id="gauge-status">
                            <span>ÏûêÎèô Î™®Îìú</span>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Ï§ëÏïôÍ∞í Í≥ÑÏÇ∞ ÏÉÅÏÑ∏ -->
            <section class="card price-details">
                <div class="price-details-header">
                    <h2>Ï§ëÏïôÍ∞í Í≥ÑÏÇ∞ ÏÉÅÏÑ∏</h2>
                    <div class="median-result">
                        <span class="median-label">Ï§ëÏïôÍ∞í:</span>
                        <span class="median-value" id="median-result-value">-</span>
                    </div>
                </div>
                <div id="price-details-list" class="price-details-list">
                    <!-- Í∞ÄÍ≤© ÏÉÅÏÑ∏ Ï†ïÎ≥¥Í∞Ä ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê® -->
                </div>
            </section>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

